# A11yチェックリスト現状整理

## 背景

- OneチームがオリジナルのA11yチェックリスト（Oneリスト）を作成していた
- それをもとにSansan全社のA11yチェックリスト（全社リスト）が作成された
- 全社リストをOneに逆輸入し、そのリストでテストを行うよう指示が出ている

---

## 両リストの構造比較

| 観点 | Oneリスト | 全社リスト |
|---|---|---|
| **WCAG番号** | 独立した列（付番）として明示 | 列なし |
| **適合レベル** | 列あり（A / AA） | 列なし |
| **W3C公式テキスト** | 列あり | なし |
| **テスト手法** | 詳細な手順を列に記載 | 「確認手段」列あり（詳しさは低い） |
| **設計思想** | WCAGの達成基準単位（1項目1行） | 工程単位（デザイン時/開発時/レビュー時で同一基準を複数行に分割） |
| **チェック結果の記録** | 機能別に「達成/部分的/未達成/該当なし」 | 「チェック」列がすべてNo、Bill One等の列は空欄 |
| **対象か（スコープ管理）** | 「対象か」列あり | なし |

---

## 全社リストの問題点

### 1. テスト工程で使う前提になっていない

全社リストは「デザイン時・開発時・デザインシステム構築時・PdMレビュー時」という工程管理ツールとして設計されており、QAがテスト実施・結果記録に使う前提になっていない。

### 2. WCAG番号・適合レベルが欠落しており機械的チェックができない

- axe DevToolsなどの自動テストツールの結果との照合が手作業になる
- どの項目がレベルA（最優先）かAAかを判断できない
- 「この達成基準はテスト済みか」を管理できない

### 3. 確認手段に「ChatGPTに画面を読み込ませて確認」が含まれる

複数項目でChatGPTを確認手段として記載。テスト結果の再現性・信頼性の観点で問題がある。Oneリストはaxe DevTools、Accessibility Visualizer、VoiceOverなど再現可能なツールを指定していた。

### 4. チェックリストとしての記録構造が未完成

- 「チェック」列がすべてNoのまま
- Bill One・Contract One・Eight の運用状況列が空欄

### 5. カバレッジの差異

**全社リストにあってOneリストにない項目：**
- 1.3.4 デバイスの向き
- 1.3.5 autocomplete属性（個人情報入力欄）
- 2.4.11 フォーカスが隠れない（WCAG2.2）
- 3.3.8 認証時のパスワードマネージャー対応（WCAG2.2）
- デザインシステム構築時の観点（Tokenコントラスト、コンポーネントフォーカス状態）

**Oneリストにあって全社リストにない（または不明確な）項目：**
- 1.4.12 テキストの間隔
- 4.1.1 構文解析
- 4.1.2 名前・役割・値（全社では薄い）

### 6. Oneの機能別テスト記録を全社リストで引き継げない

Oneリストには機能別（取引先管理・承認待ちの請求書・発注照合管理等）のテスト結果が記録されているが、全社リストの `Bill One 運用状況` は1列のみで空欄であり、この粒度を再現できない。

---

## 全社リスト作成者への確認事項

1. **全社リストは誰がいつ使う前提で作ったか**（デザイナー向け工程管理？ QA向けテスト記録？）
2. **WCAG番号と適合レベルを付与する意思があるか**、またその作業はどちらが担うか
3. **ChatGPTを確認手段とすることの意図**（補助ツールか、正式な根拠として使うか）
4. **「現状はやらない」はOneにも適用されるか**、またOneの既存テスト記録はどう扱うか
5. **全社リストのカバレッジは意図的なスコープ絞り込みか、単なる漏れか**

---

## マージの推奨方針

### 基本方針

> **OneリストのWCAG基盤を骨格にして、全社リストの工程軸を肉付けする**

```
達成基準 1.1.1 非テキストコンテンツ [A]
├── デザイン時：仕様メモにalt指示を記入（担当：デザイナー）
├── 開発時：alt属性を指示通り実装（担当：エンジニア）
└── QA時：axeで空altを検出 + VoiceOverで読み上げ確認（担当：QA）
```

### 推奨列構成

| 列 | 出典 | 理由 |
|---|---|---|
| WCAG番号 | One | 機械的照合・管理のために必須 |
| 適合レベル (A/AA) | One | 優先度フィルタリングのために必須 |
| 原則・達成基準名 | One | 人が読む用 |
| チェックする時 | 全社 | 工程管理のために追加 |
| 担当 | One（メモ列から） | 責任の明確化 |
| チェック内容 | 全社ベースで精緻化 | 全社の方が平易な日本語 |
| 確認手段 | 両者を統合・精選 | ChatGPT除去、具体的手順に |
| 要件の概要 | 全社 | なぜ必要かの背景として有用 |
| テスト手順詳細 | One | QA行にのみ記載 |
| 結果 | One | 達成/部分的に達成/未達成/該当なし |
| メモ | One | 気づきの記録 |

### 確認手段の置き換え

| 全社リストの確認手段 | 推奨する置き換え |
|---|---|
| ChatGPTに画面を読み込ませて確認 | axe DevTools / Accessibility Visualizer（自動）＋目視（手動） |
| スクリーンリーダーで一通り確認 | VoiceOver手順を具体化（Oneリストのテスト手順から移植） |
| 必ず手動で確認 | 具体的な操作手順を明記（「何を、どう操作して、何を確認するか」） |

### マージの進め方（優先度順）

**Step 1（最優先）：骨格を決める**
- OneリストのWCAG番号・適合レベル・テスト手順を残す
- 全社リストの工程列（チェックする時）を追加し、各WCAG基準に対してデザイン行/開発行/QA行を付与

**Step 2：確認手段の標準化**
- 「ChatGPT確認」を除去し、自動ツール＋具体的手動手順に差し替え
- Oneリストのテスト手順をQA行に移植

**Step 3：カバレッジ補完**
- 両リストの差分項目を追記（特にWCAG2.2の新基準）

**Step 4：スコープ管理の整理**
- 「対象か」列で `Yes / No / 対象外` を管理
- 「現状はやらない」は運用状況欄ではなくスコープ管理列で明示

---

## まとめ

> 全社リストは「いつ・誰が・何をすべきか」の工程管理は得意だが、「なぜ・どこまで達成できているか」の記録と根拠が弱い。OneリストはQAの根拠と記録は充実しているが上流工程がない。両者は補い合う関係にある。
>
> マージの最大の前提として「**Oneが全社リストをテスト工程で使うのか、それとも開発プロセス全体で使うのか**」を先に合意することが、最初の一手。